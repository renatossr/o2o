<%= simple_form_for event, url: proc_events_path(:id => event.id), method: :patch do |f| %>
  <%= f.simple_fields_for :workout do |w| %>
    <div class="row border-bottom rounded bg-white my-2" style="min-height: 150px;">
      <div class="col-md-3 border-end py-3">
        <div class="d-flex justify-contents-between align-items-top text-start px-2">
          <div class="col-md-10">
            <h6 class="mb-1" style="font-size: 14px; letter-spacing: .1px; text-rendering: geometricPrecision;"><%= event.title %></h6>
            <span class="text-black-50" style="font-size: 14px; letter-spacing: .1px;"><%= I18n.l(event.start_at.localtime, format: "%A, %d/%m - %H:%M") %></span>
          </div>
          <div class="col-md-2">
            <div class="container rounded border border-1 pe-0 me-0" style="background-color: <%= event_color(event.color) %>; height: 30px; width: 30px"></div>
          </div>
        </div>
      </div>
      <div class="col-md-7 border-end py-3 px-4">
        <div class="row">
          <div class="col-md-7">
            <div class="px-0">
              <div class="justify-content-start align-items-top">
                <div class="d-flex justify-content-start">
                  <h6 class="text-right me-2">Alunos</h6>
                  <%= link_to raw("<i class=\"bi bi-person-plus-fill\"></i>"), new_member_path %>
                </div>
                <%= w.association :members, label: false, collection: @members, input_html: {data: { placeholder: 'Selecionar...' }, class: "js-s2-select", id: "members_id_#{event.workout.id}", style: "width: 100%;"} %>
              </div>
            </div>
          </div>
          <div class="col-md-5 pe-0">
            <div class="px-0">
              <div class="justify-content-start align-items-top">
                <div class="d-flex justify-content-start">
                  <h6 class="text-right me-2">Coach</h6>
                  <%= link_to raw("<i class=\"bi bi-person-plus-fill\"></i>"), new_coach_path %>
                </div>
                <%= w.input :coach_id, label: false, collection: @coaches, input_html: {data: { placeholder: 'Selecionar...' }, class: "js-s2-select", id: "coach_id_#{event.workout.id}", style: "width: 100%"} %>
              </div>
              <div class="d-flex justify-content-start align-items-top mt-4">
                <h6 class="text-right me-2">Cancelada</h6>
                <div class="col-md-auto me-4">
                  <%= w.input :cancelled, label: false %>
                </div>
                <h6 class="text-right me-2">Reposição</h6>
                <div class="col-md-auto">
                  <%= w.input :with_replacement, label: false %>
                </div>
              </div>
              <div class="d-flex justify-content-start align-items-top mt-3">
                <h6 class="text-right me-2">Gympass</h6>
                <div class="col-md-auto me-4">
                  <%= w.input :gympass, label: false %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-2 pt-3">
        <div class="d-flex align-items-start flex-column mb-3" style="min-height: 150px;">
          <div class="mb-auto p-2">
            <% unless event.alerts.blank? %>
              <div class="col">
                <div class="float-end">
                  <span class="badge badge-outline bg-danger rounded-pill"><%= "!" unless event.reviewed? %></span>
                </div>
                <ul class="ms-1 ps-3">
                  <% event.alerts.each do |alert| %>
                    <li class="text-danger"><%= alert %></li>
                  <% end %>
                </ul>
              </div>
            <% end %>
          </div>
          <div class="p-2">
            <div class="col text-end">
              <%= f.submit 'Confirmar', class: 'btn btn-sm btn-primary' %>
            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>
<% end %>
